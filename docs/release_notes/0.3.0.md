0.3.0
=====

Breaking Changes
----------------
Quick migration checklist:
- in urls: `xprez.urls` -> `xprez.admin.urls`
- in templates:
    `{% include 'xprez/container.html' with contents=page.get_contents %}` -> `{% xprez_container_render_front page %}`
- models:
    `ContentsContainer` -> `Container`, 
    `Content` -> `Module`
- migrations:
    `./run makemigrations {project_name} --empty`

   *add following code:*
    ``` py
    from django.db import migrations

    from xprez.migrations._operations import ContentsContainerToContainer, ContentToModule


    class Migration(migrations.Migration):
        dependencies = [
            ("test_1", "0001_initial"),  # <- keep what was auto-generated
            ("xprez", "0028_refactor_migrate"),  # <- add this
        ]
        run_before = [("xprez", "0029_refactor_cleanup")]  # <- add this

        operations = [
            ContentToModule("XprezAnchor"),  # <- add this for each non-abstract custom Module
            ContentsContainerToContainer("Page"),  # <- add this for each non-abstract custom Container
        ]
    ```
### Structural Changes

New models:
- `Section` - all modules are now grouped in sections
- `SectionConfig` / `ModuleConfig` - breakpoint-specific settings for sections/modules

Module API changes:
- `extra_context` → `context` (now required in `render_front()` / `render_admin()`)
- `content_type` now uses full model path (e.g. `xprez.TextModule`)
- `Module.saved` / `Section.saved` - unsaved items not rendered on frontend
- Deletion happens after form submit, not immediately

Removed:
- `Module.show_front()` - override `render_front()` instead
- `Module.page` - use `Module.section.container`
- `Module.create_for_page()` - use `{Model}.objects.create()`
- `XprezAdminMixin.xprez_add_content_before_*()` - use `add_view()`
- `XprezAdminMixin.xprez_ui_css_class`
- `XprezAdminMixin.copy_*` methods - use clipboard instead

Moved to **xprez.admin**:
- `xprez.urls` → `xprez.admin.urls`
- `xprez.admin_forms` → `xprez.admin.forms`
- `xprez.form_fields` / `xprez.models.fields` → `xprez.admin.fields`

### Model renames

All "content" terminology has been renamed to "module" throughout the codebase.
Other terminology has been changed for consistency and better semantic.

- `ContentsContainer` → `Container`
- `Content` → `Module`
- `FormsetContent` → `MultiModule`
- `ContentItem` → `MultiModuleItem`
- `AjaxUploadFormsetContent` → `UploadMultiModule`
- `TextContent` → `TextModule`
- `TextContentBase` → `TextModuleBase`
- `QuoteContent` → `QuoteModule` (now single quote instead of multiple)
- `Photo` → `GalleryItem`
- `NumbersContent` → `NumbersModule`
- `Number` → `NumbersItem`
- `DownloadContent` → `DownloadsModule`
- `Attachment` → `DownloadsItem`
- `Video` → `VideoModule`
- `ContentSymlink` → `ModuleSymlink`

### Field renames:
- `content` → `module` (in ModuleConfig and ModuleItem subclasses)
- `content_foreign_key` → `module_foreign_key` (in ModuleItem)

### Related name changes:
- `section.contents` → `section.modules`

### Settings renames:
- `XPREZ_CONTAINER_MODEL_CLASS` default changed from `xprez.ContentsContainer` to `xprez.Container`
- `XPREZ_CONTENTS_AUTOREGISTER` → `XPREZ_MODULES_AUTOREGISTER`
- `XPREZ_CONTENTS_AUTOREGISTER_BUILTINS` → `XPREZ_MODULES_AUTOREGISTER_BUILTINS`
- `XPREZ_CONTENTS_AUTOREGISTER_CUSTOM` → `XPREZ_MODULES_AUTOREGISTER_CUSTOM`
- `XPREZ_DEFAULT_ALLOWED_CONTENTS` → `XPREZ_DEFAULT_AVAILABLE_MODULES`
- `XPREZ_DEFAULT_EXCLUDED_CONTENTS` → removed
- `XPREZ_CK_EDITOR_CONTENT_WIDGET` → `XPREZ_CK_EDITOR_MODULE_WIDGET`
- `XPREZ_GRID_BOXES_CONTENT_WIDGET` → `XPREZ_GRID_BOXES_MODULE_WIDGET`
- `XPREZ_TEXT_IMAGE_CONTENT_WIDGET` → `XPREZ_TEXT_IMAGE_MODULE_WIDGET`
- `XPREZ_CODE_TEMPATES_PREFIX` defaults to `xprez/code_templates`
- `XPREZ_CODE_TEMPLATES_DIR` defaults to settings.TEMPLATES[0]["DIRS"][0]

### Form renames:
- `BaseContentForm` → `BaseModuleForm`
- `TextContentBaseForm` → `TextModuleBaseForm`
- `TextContentForm` → `TextModuleForm`
- `QuoteContentForm` → `QuoteModuleForm`
- `NumbersContentForm` → `NumbersModuleForm`
- `DownloadContentForm` → `DownloadsModuleForm`

### Template tag renames:
- `xprez_content_render_front` → `xprez_module_render_front`
- `xprez_content_render_admin` → `xprez_module_render_admin`
- `xprez_content_config_render_admin` → `xprez_module_config_render_admin`
- `xprez_front_media(contents=...)` → `xprez_front_media(modules=...)`

### Template directory renames:
- `xprez/templates/xprez/modules/` → `xprez/templates/xprez/modules/`
- `xprez/templates/xprez/admin/modules/` → `xprez/templates/xprez/admin/modules/`
- `xprez/templates/xprez/admin/module_configs/` → `xprez/templates/xprez/admin/module_configs/`
- `xprez/templates/xprez/admin/icons/modules/` → `xprez/templates/xprez/admin/icons/modules/`

### CSS class renames:
- `.xprez-content` → `.xprez-module`
- `.xprez-text-content` → `.xprez-text-module`

### Registry renames:
- `contents_manager` → `module_registry`
- `ContentTypeManager` → `ModuleRegistry`
