$gb-margin-m: $m-space;
$gb-margin-l: $m-space*2;
$gb-padding: $m-space;

// TODO:
//      - padding v moblinich rozlisenich u jednotlivejch sirek

.xprez-grid-boxes {
    &.full-width {  @include full-width; }
    &.mid-width {   @include m-width; }
    &.text-width {  @include s-width; }

    @include flexbox;
    @include flex-wrap(wrap);
    @include justify-content(center);

    // basic box style
    .xprez-grid-box {
        width: 25%;
        @include boxSizing();
        @include flexbox;
    }
    .xprez-grid-box-inner {
        @include flex(1);
    }

    // box margins switch
    &.margin-m {
        padding-left: $gb-margin-m*.5;
        padding-right: $gb-margin-m*.5;
        &.mid-width {
            max-width: $m-width + $gb-margin-m*2;
        }
        &.text-width {
            max-width: $s-width + $gb-margin-m*2;
        }
        .xprez-grid-box {
            padding: $gb-margin-m*.5;
        }
    }
    &.margin-l {
        padding-left: $gb-margin-l*.5;
        padding-right: $gb-margin-l*.5;
        &.mid-width {
            max-width: $m-width + $gb-margin-l*2;
        }
        &.text-width {
            max-width: $s-width + $gb-margin-l*2;
        }
        .xprez-grid-box {
            padding: $gb-margin-l*.5;
        }
    }

    // box backgound switch
    &.boxes_filled .xprez-grid-box-inner {
        background: $b-gray-3;
    }

    // box border switch
    &.border .xprez-grid-box-inner {
        border: 1px solid $b-gray-4;
    }

    // box padding switch
    &.padded .xprez-grid-box-inner {
        padding: $m-space;
    }

    // images to edges
    &.edge_images.padded .medium-insert-images-center {
        margin-left: - $m-space;
        margin-right: - $m-space;
        &:first-child {
            margin-top: - $m-space;
        }
    }

    // grid sizes
    &.columns-2 {
        .xprez-grid-box { width: 50%; }
    }
    &.columns-3 {
        .xprez-grid-box { width: 33.3%; }
    }
    &.columns-4 {
        .xprez-grid-box { width: 25%; }
    }
    &.columns-6 {
        .xprez-grid-box { width: 16.6%; }
    }
    &.columns-8 {
        .xprez-grid-box { width: 12.5%; }
    }

    // text size
    &.textsize-m .xprez-grid-box {
        font-size: 0.93rem;
    }
    &.textsize-s .xprez-grid-box {
        font-size: 0.8rem;
    }
    &.textsize-xs .xprez-grid-box {
        font-size: 0.7rem;
    }

    // centering
    &.centered .xprez-grid-box * {
        text-align: center;
    }

}

//
//  Medium editor specific Grid boxes tweaks
//
.xprez-grid-box {
    .medium-insert-images {
        figure {
            margin-top: 1.25em;
            margin-bottom: 1.25em;
        }
        &:first-child figure {
            margin-top: 0;
        }
    }
}
